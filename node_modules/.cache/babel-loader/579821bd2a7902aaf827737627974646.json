{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from 'react';\nimport DashBoardLayOut from '../../layouts/AdminDashboardLayout';\nimport CreateFarmForm from '../../components/createFarm';\nimport isAdmin from '../../middlewares/isAdmin';\nimport $ from 'jquery';\nimport httpHelper from \"../../helpers/httpHelper\";\nimport Link from 'next/link';\n\nvar createFarm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(createFarm, _React$Component);\n\n  function createFarm() {\n    _classCallCheck(this, createFarm);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(createFarm).apply(this, arguments));\n  }\n\n  _createClass(createFarm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      isAdmin();\n      this.getFarmsData();\n      this.initDataTable();\n    }\n  }, {\n    key: \"initDataTable\",\n    value: function initDataTable() {\n      jQuery(document).ready(function ($) {\n        var $table3 = jQuery(\"#table-3\");\n        var table3 = $table3.DataTable({\n          \"aLengthMenu\": [[10, 25, 50, -1], [10, 25, 50, \"All\"]]\n        }); // Initalize Select Dropdown after DataTables is created\n\n        $table3.closest('.dataTables_wrapper').find('select').select2({\n          minimumResultsForSearch: -1\n        }); // Setup - add a text input to each footer cell\n\n        $('#table-3 tfoot th').each(function () {\n          var title = $('#table-3 thead th').eq($(this).index()).text();\n          $(this).html('<input type=\"text\" class=\"form-control\" placeholder=\"Search ' + title + '\" />');\n        }); // Apply the search\n\n        table3.columns().every(function () {\n          var that = this;\n          $('input', this.footer()).on('keyup change', function () {\n            if (that.search() !== this.value) {\n              that.search(this.value).draw();\n            }\n          });\n        });\n      });\n    }\n  }, {\n    key: \"getFarmsData\",\n    value: function getFarmsData() {\n      var _this = this;\n\n      httpHelper.serverReq('http://localhost:3009/api/v1/farms/all').then(function (data) {\n        console.log(data);\n\n        if (data.success) {\n          var farms = data.success.data;\n          var editedFarms = farms.map(function (farm) {\n            React.createElement(\"tr\", {\n              className: \"odd gradeX\"\n            }, React.createElement(\"td\", null, farm.title), React.createElement(\"td\", null, \"5 Months\"), React.createElement(\"td\", null, farm.price_per_unit), React.createElement(\"td\", {\n              className: \"center\"\n            }, farm.roi, \"%\"), React.createElement(\"td\", {\n              className: \"center\"\n            }, \"12000\"), React.createElement(\"td\", {\n              className: \"center\"\n            }, \"12000\"), React.createElement(\"td\", null, React.createElement(Link, {\n              href: \"/farm/[{farm.id}]\"\n            }, React.createElement(\"a\", {\n              type: \"button\",\n              className: \"btn btn-success\"\n            }, \"view\"))));\n          });\n\n          _this.setState({\n            allFarms: editedFarms\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(DashBoardLayOut, null, React.createElement(\"hr\", null), React.createElement(\"h2\", {\n        id: \"form-head\"\n      }, \"All Farms\"), React.createElement(\"br\", null), React.createElement(\"table\", {\n        className: \"table table-bordered datatable\",\n        id: \"table-3\"\n      }, React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"replace-inputs\"\n      }, React.createElement(\"th\", null, \"Farm Name\"), React.createElement(\"th\", null, \"Duration\"), React.createElement(\"th\", null, \"Price\"), React.createElement(\"th\", null, \"Interest\"), React.createElement(\"th\", null, \"Total Available\"), React.createElement(\"th\", null, \"Units Bought\"), React.createElement(\"th\", null, \"Status\"))), React.createElement(\"tbody\", null, this.state.allFarms), React.createElement(\"tfoot\", null, React.createElement(\"tr\", null, React.createElement(\"th\", null, \"Farm Name\"), React.createElement(\"th\", null, \"Duration\"), React.createElement(\"th\", null, \"Price\"), React.createElement(\"th\", null, \"Returns Percentage\"), React.createElement(\"th\", null, \"Units Available\"), React.createElement(\"th\", null, \"Units Bought\"), React.createElement(\"th\", null, \"Actions\")))), React.createElement(\"br\", null), React.createElement(\"br\", null));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var req;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req;\n                this.setState({\n                  allFarms: []\n                });\n                return _context.abrupt(\"return\", {});\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return createFarm;\n}(React.Component);\n\nexport default createFarm;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\easycow\\pages\\admin\\all-farms.js"],"names":["React","DashBoardLayOut","CreateFarmForm","isAdmin","$","httpHelper","Link","createFarm","getFarmsData","initDataTable","jQuery","document","ready","$table3","table3","DataTable","closest","find","select2","minimumResultsForSearch","each","title","eq","index","text","html","columns","every","that","footer","on","search","value","draw","serverReq","then","data","console","log","success","farms","editedFarms","map","farm","price_per_unit","roi","setState","allFarms","state","req","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport DashBoardLayOut from '../../layouts/AdminDashboardLayout';\r\nimport CreateFarmForm from '../../components/createFarm';\r\nimport isAdmin from  '../../middlewares/isAdmin';\r\nimport $ from 'jquery';\r\nimport httpHelper from \"../../helpers/httpHelper\";\r\nimport Link from 'next/link';\r\n\r\nclass createFarm extends React.Component{\r\n\r\n  static async getInitialProps({ req }) {\r\n    this.setState  ({allFarms:[]});\r\n    return {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    isAdmin();\r\n    this.getFarmsData();\r\n    this.initDataTable();\r\n\r\n  }\r\n  initDataTable(){\r\n    jQuery(document).ready(function($) {\r\n      var $table3 = jQuery(\"#table-3\");\r\n\r\n      var table3 = $table3.DataTable({\r\n        \"aLengthMenu\": [\r\n          [10, 25, 50, -1],\r\n          [10, 25, 50, \"All\"]\r\n        ]\r\n      });\r\n\r\n      // Initalize Select Dropdown after DataTables is created\r\n      $table3.closest('.dataTables_wrapper').find('select').select2({\r\n        minimumResultsForSearch: -1\r\n      });\r\n\r\n      // Setup - add a text input to each footer cell\r\n      $('#table-3 tfoot th').each(function() {\r\n        var title = $('#table-3 thead th').eq($(this).index()).text();\r\n        $(this).html('<input type=\"text\" class=\"form-control\" placeholder=\"Search ' + title + '\" />');\r\n      });\r\n\r\n      // Apply the search\r\n      table3.columns().every(function() {\r\n        var that = this;\r\n\r\n        $('input', this.footer()).on('keyup change', function() {\r\n          if (that.search() !== this.value) {\r\n            that\r\n              .search(this.value)\r\n              .draw();\r\n          }\r\n        });\r\n      });\r\n    });\r\n  }\r\n  getFarmsData(){\r\n    httpHelper.serverReq('http://localhost:3009/api/v1/farms/all').then( (data)=> {\r\n      console.log(data);\r\n      if (data.success){\r\n        let farms = data.success.data;\r\n        let editedFarms =  farms.map((farm)=>{\r\n          <tr className=\"odd gradeX\">\r\n            <td>{farm.title}</td>\r\n            <td>5 Months</td>\r\n            <td>{farm.price_per_unit}</td>\r\n            <td className=\"center\">{farm.roi}%</td>\r\n            <td className=\"center\">12000</td>\r\n            <td className=\"center\">12000</td>\r\n            <td>\r\n              <Link href=\"/farm/[{farm.id}]\">\r\n                <a type=\"button\" className=\"btn btn-success\">view</a>\r\n              </Link>\r\n            </td>\r\n          </tr>\r\n        });\r\n        this.setState({allFarms : editedFarms});\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <DashBoardLayOut>\r\n\r\n        <hr/>\r\n\r\n\r\n        <h2 id=\"form-head\">All Farms</h2>\r\n        <br/>\r\n\r\n\r\n\r\n        <table className=\"table table-bordered datatable\" id=\"table-3\">\r\n          <thead>\r\n          <tr className=\"replace-inputs\">\r\n            <th>Farm Name</th>\r\n            <th>Duration</th>\r\n            <th>Price</th>\r\n            <th>Interest</th>\r\n            <th>Total Available</th>\r\n            <th>Units Bought</th>\r\n            <th>Status</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n          {this.state.allFarms}\r\n          </tbody>\r\n          <tfoot>\r\n          <tr>\r\n            <th>Farm Name</th>\r\n            <th>Duration</th>\r\n            <th>Price</th>\r\n            <th>Returns Percentage</th>\r\n            <th>Units Available</th>\r\n            <th>Units Bought</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n          </tfoot>\r\n        </table>\r\n\r\n        <br/>\r\n        <br/>\r\n      </DashBoardLayOut>\r\n    )\r\n  }\r\n}\r\n\r\nexport default createFarm;\r\n"]},"metadata":{},"sourceType":"module"}