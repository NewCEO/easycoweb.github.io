{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from 'react';\nimport { duration } from '../helpers/date';\nimport FollowBtn from \"../components/followBtn\";\nimport httpHelper from '../helpers/httpHelper';\nimport Link from 'next/link';\n\nvar singleFarm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(singleFarm, _React$Component);\n\n  function singleFarm(props) {\n    var _this;\n\n    _classCallCheck(this, singleFarm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(singleFarm).call(this, props));\n    _this.state = {\n      details: props.details,\n      followed: props.details.followed\n    };\n    _this.handleFollowBtn = _this.handleFollowBtn.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(singleFarm, [{\n    key: \"handleFollowBtn\",\n    value: function handleFollowBtn(value) {\n      var _this2 = this;\n\n      var type;\n\n      if (this.state.followed === \"true\") {\n        type = \"un-follow\";\n      } else {\n        type = \"follow\";\n      }\n\n      var data = new FormData();\n      httpHelper.httpReq(\"farms/relationship/\" + this.state.details.slug + \"/\" + type, \"\", \"POST\").then(function (response) {\n        if (response.success) {\n          var state = _this2.state.followed === \"true\" ? \"false\" : \"true\";\n\n          _this2.setState({\n            followed: state\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"single-cause-content inner-box\"\n      }, React.createElement(\"figure\", {\n        className: \"image-box\"\n      }, React.createElement(\"img\", {\n        src: this.state.details.images ? JSON.parse(this.state.details.images)[0] : \"\",\n        alt: \"\"\n      }), React.createElement(\"div\", {\n        className: \"overlay-box\"\n      }, React.createElement(\"div\", {\n        className: \"overlay-inner\"\n      }))), React.createElement(\"div\", {\n        className: \"lower-content\"\n      }, React.createElement(\"h4\", null, React.createElement(\"a\", {\n        href: \"/user/farm/\" + this.state.details.slug\n      }, this.state.details.title), React.createElement(FollowBtn, {\n        followed: this.state.followed,\n        onClickFollowBtn: this.handleFollowBtn\n      })), React.createElement(\"div\", {\n        className: \"text\"\n      }, this.state.details.description), React.createElement(\"div\", {\n        className: \"progress-box\"\n      }, React.createElement(\"div\", {\n        className: \"progress\",\n        \"data-value\": this.state.details.sold_out / this.state.details.total_units * 100\n      }, React.createElement(\"div\", {\n        className: \"progress-bar\",\n        role: \"progressbar\",\n        \"aria-valuenow\": this.state.details.sold_out / this.state.details.total_units * 100,\n        \"aria-valuemin\": \"0\",\n        \"aria-valuemax\": \"100\"\n      }, React.createElement(\"div\", {\n        className: \"value-holder\"\n      }, React.createElement(\"span\", {\n        className: \"value\"\n      }), \"%-SOLD OUT\")))), React.createElement(\"ul\", {\n        className: \"price clearfix\"\n      }, React.createElement(\"li\", null, \"Price/Unit: \", React.createElement(\"span\", null, React.createElement(\"h3\", null, \"\\u20A6\", this.state.details.price_per_unit))), React.createElement(\"li\", null, \"Return: \", React.createElement(\"span\", null, React.createElement(\"h2\", null, this.state.details.roi, \"%\")))), React.createElement(\"ul\", {\n        className: \"price clearfix pos\"\n      }, React.createElement(\"li\", null, \"Duration:\", React.createElement(\"span\", null, React.createElement(\"h3\", null, duration(new Date(this.state.details.farm_starts), new Date(this.state.details.farm_ends)), \" month(s)\")))), React.createElement(\"br\", null), React.createElement(\"br\", null), React.createElement(\"br\", null), React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"donate-box text-center\"\n      }, React.createElement(Link, {\n        href: \"/user/farm/\" + this.state.details.slug + \"/fund\"\n      }, React.createElement(\"button\", {\n        className: \"donate-box-btn theme-btn-two\"\n      }, \"Invest Now\")))));\n    }\n  }]);\n\n  return singleFarm;\n}(React.Component);\n\nexport default singleFarm;","map":{"version":3,"sources":["/home/darnyelx/Projects/easycow/components/singleFarmHomePage.js"],"names":["React","duration","FollowBtn","httpHelper","Link","singleFarm","props","state","details","followed","handleFollowBtn","bind","value","type","data","FormData","httpReq","slug","then","response","success","setState","images","JSON","parse","title","description","sold_out","total_units","price_per_unit","roi","Date","farm_starts","farm_ends","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {duration} from '../helpers/date';\nimport FollowBtn from \"../components/followBtn\";\nimport httpHelper from '../helpers/httpHelper';\nimport Link from 'next/link';\n\n\n\nclass singleFarm extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {details:props.details,followed:props.details.followed};\n    this.handleFollowBtn = this.handleFollowBtn.bind(this)\n\n  }\n\n  handleFollowBtn(value){\n    let type;\n    if (this.state.followed === \"true\"){\n      type = \"un-follow\";\n    }else{\n      type = \"follow\";\n    }\n    let data = new FormData();\n    httpHelper.httpReq(\"farms/relationship/\"+this.state.details.slug+\"/\"+type,\"\",\"POST\").then((response)=>{\n      if (response.success){\n        let state = this.state.followed === \"true\"?\"false\":\"true\";\n        this.setState({followed:state});\n      }\n    })\n  }\n\n  render() {\n\n    return(\n      <div className=\"single-cause-content inner-box\">\n        <figure className=\"image-box\">\n          <img src={this.state.details.images?JSON.parse(this.state.details.images)[0]:\"\"} alt=\"\"/>\n\n          <div className=\"overlay-box\">\n            <div className=\"overlay-inner\">\n            </div>\n          </div>\n        </figure>\n        <div className=\"lower-content\">\n          <h4><a  href={\"/user/farm/\"+this.state.details.slug}>{this.state.details.title}</a>\n            <FollowBtn followed={this.state.followed} onClickFollowBtn={this.handleFollowBtn} />\n\n          </h4>\n          <div className=\"text\">{this.state.details.description}</div>\n\n          <div className=\"progress-box\">\n            <div className=\"progress\" data-value={(this.state.details.sold_out/this.state.details.total_units)*100} >\n              <div className=\"progress-bar\" role=\"progressbar\" aria-valuenow={(this.state.details.sold_out/this.state.details.total_units)*100} aria-valuemin=\"0\"\n                   aria-valuemax=\"100\">\n                <div className=\"value-holder\"><span className=\"value\"></span>%-SOLD OUT</div>\n              </div>\n            </div>\n          </div>\n          <ul className=\"price clearfix\">\n            <li>Price/Unit: <span><h3>â‚¦{this.state.details.price_per_unit}</h3></span></li>\n            <li>Return: <span><h2>{this.state.details.roi}%</h2></span></li>\n          </ul>\n          <ul className=\"price clearfix pos\">\n            <li>Duration:<span><h3>{duration( new Date(this.state.details.farm_starts),new Date(this.state.details.farm_ends))} month(s)</h3></span></li>\n          </ul>\n          <br/>\n          <br/>\n          <br/>\n          <br/>\n          <div className=\"donate-box text-center\">\n            <Link href={\"/user/farm/\"+this.state.details.slug+\"/fund\"}>\n            <button className=\"donate-box-btn theme-btn-two\">Invest Now</button>\n            </Link>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default singleFarm;\n"]},"metadata":{},"sourceType":"module"}