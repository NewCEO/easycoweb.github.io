{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from 'react';\nimport httpHelper from '../helpers/httpHelper';\nimport HelpBlock from '../components/HelpBlock';\n\nvar createFarmFormComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(createFarmFormComponent, _React$Component);\n\n  function createFarmFormComponent(props) {\n    var _this;\n\n    _classCallCheck(this, createFarmFormComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(createFarmFormComponent).call(this, props));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      location: ''\n    };\n\n    if (props.farmId) {\n      httpHelper.serverReq('http://localhost:3009/api/v1/locations');\n    }\n\n    _this.state = {\n      formValues: {\n        status: '1'\n      },\n      farmNotification: {\n        state: false,\n        error: false,\n        text: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(createFarmFormComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getLocations();\n      this.getCategories();\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      var target = event.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      var name = target.name;\n      var values;\n      this.state.formValues ? values = this.state.formValues : values = {};\n      values[name] = value;\n      this.setState({\n        formValues: values\n      });\n    }\n  }, {\n    key: \"getLocations\",\n    value: function getLocations() {\n      var _this2 = this;\n\n      var htmlLocations = [];\n      httpHelper.serverReq('http://localhost:3009/api/v1/locations').then(function (locations) {\n        locations.success.data.forEach(function (location) {\n          htmlLocations.push(React.createElement(\"option\", {\n            value: location.id\n          }, location.name));\n        });\n\n        _this2.setState({\n          location: htmlLocations\n        });\n      });\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      var _this3 = this;\n\n      var htmlCategories = [];\n      httpHelper.serverReq('http://localhost:3009/api/v1/farms/categories').then(function (categories) {\n        categories.success.data.forEach(function (category) {\n          htmlCategories.push(React.createElement(\"option\", {\n            value: category.id\n          }, category.name));\n        });\n\n        _this3.setState({\n          categories: htmlCategories\n        });\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this4 = this;\n\n      event.preventDefault();\n      this.setState({\n        btnDisabled: true\n      });\n      var values = this.state.formValues;\n      var formData = new FormData();\n\n      for (var key in values) {\n        console.log(key, values[key]);\n        formData.append(key, values[key]);\n      }\n\n      this.setState({\n        btnDisabled: false\n      });\n      this.setState({\n        formValues: {\n          title: ''\n        }\n      });\n      httpHelper.serverReq('http://localhost:3009/api/v1/farms/create', formData, 'Post').then(function (result) {\n        if (result.success) {\n          var temp = {};\n\n          for (var key in values) {\n            temp[key] = \"\";\n          }\n\n          _this4.setState({\n            farmNotification: {\n              state: true,\n              error: false,\n              text: 'Farm created successfully'\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"form\", {\n        role: \"form\",\n        id: \"farmForm\",\n        onSubmit: this.handleSubmit,\n        className: \"form-horizontal  form-groups-bordered\"\n      }, this.state.farmNotification.state ? React.createElement(HelpBlock, {\n        type: this.state.farmNotification.error,\n        text: this.state.farmNotification.text\n      }) : '', React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        htmlFor: \"field-1\",\n        className: \"col-sm-3 control-label\"\n      }, \"Farm Name\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        value: this.state.formValues.title,\n        required: \"required\",\n        onChange: this.handleChange,\n        className: \"form-control\",\n        id: \"field-1\",\n        placeholder: \"Farm Title\"\n      }))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        htmlFor: \"field-1\",\n        className: \"col-sm-3 control-label\"\n      }, \"Farm Description\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"textarea\", {\n        type: \"text\",\n        name: \"description\",\n        value: this.state.formValues.description,\n        required: \"required\",\n        onChange: this.handleChange,\n        className: \"form-control\",\n        id: \"field-1\",\n        placeholder: \"Farm Title\"\n      }))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        htmlFor: \"field-2\",\n        className: \"col-sm-3 control-label\"\n      }, \"Location\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"select\", {\n        name: \"location\",\n        onChange: this.handleChange,\n        value: this.state.formValues.location,\n        required: \"required\",\n        className: \"form-control\",\n        id: \"field-2\",\n        placeholder: \"Placeholder\"\n      }, React.createElement(\"option\", null, \"select a location\"), this.state.location))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Price Per Unit\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        min: \"0\",\n        value: this.state.formValues.price_per_units,\n        onChange: this.handleChange,\n        required: \"required\",\n        name: \"price_per_units\",\n        className: \"form-control\"\n      }), React.createElement(\"span\", {\n        className: \"input-group-addon\"\n      }, \".00\")))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"ROI\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        name: \"roi\",\n        min: \"0\",\n        max: \"100\",\n        onChange: this.handleChange,\n        className: \"form-control\"\n      }), React.createElement(\"span\", {\n        className: \"input-group-addon\"\n      }, \"%\")))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Units available\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        name: \"total_units\",\n        min: \"0\",\n        value: this.state.formValues.total_units,\n        required: \"required\",\n        onChange: this.handleChange,\n        className: \"form-control\"\n      }), React.createElement(\"span\", {\n        className: \"input-group-addon\"\n      }, \".00\")))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Funding Starts\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        name: \"funding_starts\",\n        required: \"required\",\n        value: this.state.formValues.funding_starts,\n        onChange: this.handleChange,\n        className: \"form-control\"\n      })))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Funding Ends\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        value: this.state.formValues.funding_ends,\n        onChange: this.handleChange,\n        required: \"required\",\n        name: \"funding_ends\",\n        className: \"form-control\"\n      })))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Farm Opens\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        name: \"farm_starts\",\n        onChange: this.handleChange,\n        required: \"required\",\n        value: this.state.formValues.farm_starts,\n        className: \"form-control\"\n      })))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Farm Closes\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        required: \"required\",\n        onChange: this.handleChange,\n        value: this.state.formValues.farm_ends,\n        name: \"farm_ends\",\n        className: \"form-control\"\n      })))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        htmlFor: \"field-2\",\n        className: \"col-sm-3 control-label\"\n      }, \"Category\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"select\", {\n        name: \"category\",\n        required: \"required\",\n        onChange: this.handleChange,\n        className: \"form-control\",\n        id: \"field-2\",\n        value: this.state.formValues.category,\n        placeholder: \"Placeholder\"\n      }, React.createElement(\"option\", null, \"select a category\"), this.state.categories))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        htmlFor: \"field-1\",\n        className: \"col-sm-3 control-label\"\n      }, \"Farm photo Thumbnail\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        className: \"form-control\",\n        id: \"field-file\",\n        placeholder: \"Placeholder\"\n      }))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"label\", {\n        className: \"col-sm-3 control-label\"\n      }, \"Activate\"), React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"div\", {\n        className: \"input-group\"\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: \"1\",\n        name: \"active\",\n        onChange: this.handleChange,\n        required: \"required\",\n        className: \"form-control\"\n      })))), React.createElement(\"div\", {\n        className: \"form-group\"\n      }, React.createElement(\"div\", {\n        className: \"col-sm-5\"\n      }, React.createElement(\"button\", {\n        type: \"sumbit\",\n        disabled: this.state.btnDisabled ? \"disabled\" : '',\n        className: \"btn btn-primary\"\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return createFarmFormComponent;\n}(React.Component);\n\nexport default createFarmFormComponent;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\easycow\\components\\createFarm.js"],"names":["React","httpHelper","HelpBlock","createFarmFormComponent","props","handleChange","bind","handleSubmit","state","location","farmId","serverReq","formValues","status","farmNotification","error","text","getLocations","getCategories","event","target","value","type","checked","name","values","setState","htmlLocations","then","locations","success","data","forEach","push","id","htmlCategories","categories","category","preventDefault","btnDisabled","formData","FormData","key","console","log","append","title","result","temp","description","price_per_units","total_units","funding_starts","funding_ends","farm_starts","farm_ends","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport httpHelper from '../helpers/httpHelper';\r\nimport HelpBlock from '../components/HelpBlock';\r\n\r\n\r\nclass createFarmFormComponent extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.state ={location:''\r\n    };\r\n    if (props.farmId){\r\n      httpHelper.serverReq('http://localhost:3009/api/v1/locations')\r\n    }\r\n    this.state = {formValues:{status:'1'},\r\n      farmNotification:{\r\n        state:false,\r\n        error:false,\r\n        text:''\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getLocations();\r\n    this.getCategories();\r\n  }\r\n\r\n  handleChange(event){\r\n    const target = event.target;\r\n    const value = target.type === 'checkbox' ? target.checked : target.value;\r\n    const name = target.name;\r\n    let values;\r\n    this.state.formValues?values = this.state.formValues:values={};\r\n    values[name] = value;\r\n    this.setState({\r\n      formValues: values\r\n    });\r\n  }\r\n\r\n  getLocations(){\r\n    let htmlLocations = [];\r\n    httpHelper.serverReq('http://localhost:3009/api/v1/locations').then( (locations)=> {\r\n      locations.success.data.forEach((location)=>{\r\n        htmlLocations.push( <option value={location.id} >{location.name}</option>);\r\n      });\r\n      this.setState({location: htmlLocations});\r\n    })\r\n  }\r\n\r\n  getCategories(){\r\n    let htmlCategories = [];\r\n    httpHelper.serverReq('http://localhost:3009/api/v1/farms/categories').then( (categories)=> {\r\n      categories.success.data.forEach((category)=>{\r\n        htmlCategories.push( <option value={category.id} >{category.name}</option>);\r\n      });\r\n      this.setState({categories: htmlCategories});\r\n    })\r\n  }\r\n\r\n  handleSubmit(event){\r\n    event.preventDefault();\r\n    this.setState({btnDisabled:true});\r\n    let values = this.state.formValues;\r\n    let formData = new FormData();\r\n    for (var key in values){\r\n      console.log(key,values[key]);\r\n      formData.append(key,values[key])\r\n    }\r\n    this.setState({btnDisabled:false});\r\n    this.setState({formValues:{title:''}})\r\n\r\n    httpHelper.serverReq('http://localhost:3009/api/v1/farms/create',formData,'Post').then( (result)=> {\r\n      if (result.success){\r\n        let temp = {};\r\n        for (var key in values){\r\n          temp[key] = \"\"\r\n        }\r\n        this.setState({ farmNotification:{\r\n            state:true,\r\n            error:false,\r\n            text:'Farm created successfully'\r\n          }});\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <form role=\"form\" id=\"farmForm\" onSubmit={this.handleSubmit} className=\"form-horizontal  form-groups-bordered\">\r\n        {\r\n\r\n          this.state.farmNotification.state?<HelpBlock type={this.state.farmNotification.error} text={this.state.farmNotification.text} />:''\r\n        }\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"field-1\" className=\"col-sm-3 control-label\">Farm Name</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <input type=\"text\" name=\"title\" value={this.state.formValues.title} required=\"required\" onChange={this.handleChange} className=\"form-control\" id=\"field-1\" placeholder=\"Farm Title\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"field-1\" className=\"col-sm-3 control-label\">Farm Description</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <textarea type=\"text\" name=\"description\" value={this.state.formValues.description} required=\"required\" onChange={this.handleChange} className=\"form-control\" id=\"field-1\" placeholder=\"Farm Title\" ></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"field-2\" className=\"col-sm-3 control-label\">Location</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <select name=\"location\"  onChange={this.handleChange} value={this.state.formValues.location} required=\"required\" className=\"form-control\" id=\"field-2\" placeholder=\"Placeholder\" >\r\n              <option>select a location</option>\r\n              {this.state.location}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Price Per Unit</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"number\" min=\"0\" value={this.state.formValues.price_per_units}  onChange={this.handleChange} required=\"required\" name=\"price_per_units\" className=\"form-control\" />\r\n              <span className=\"input-group-addon\">.00</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">ROI</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"number\" name=\"roi\" min=\"0\" max=\"100\" onChange={this.handleChange} className=\"form-control\" />\r\n              <span className=\"input-group-addon\">%</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Units available</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"number\" name=\"total_units\" min=\"0\"  value={this.state.formValues.total_units} required=\"required\" onChange={this.handleChange} className=\"form-control\" />\r\n              <span className=\"input-group-addon\">.00</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Funding Starts</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"date\" name=\"funding_starts\" required=\"required\" value={this.state.formValues.funding_starts} onChange={this.handleChange} className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Funding Ends</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"date\" value={this.state.formValues.funding_ends}  onChange={this.handleChange} required=\"required\" name=\"funding_ends\" className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Farm Opens</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"date\" name=\"farm_starts\"  onChange={this.handleChange} required=\"required\" value={this.state.formValues.farm_starts} className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Farm Closes</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"date\" required=\"required\"  onChange={this.handleChange} value={this.state.formValues.farm_ends} name=\"farm_ends\" className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"field-2\" className=\"col-sm-3 control-label\">Category</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <select name=\"category\" required=\"required\"  onChange={this.handleChange} className=\"form-control\" id=\"field-2\" value={this.state.formValues.category} placeholder=\"Placeholder\" >\r\n              <option>select a category</option>\r\n              {this.state.categories}\r\n\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"field-1\" className=\"col-sm-3 control-label\">Farm photo Thumbnail</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <input type=\"file\" className=\"form-control\" id=\"field-file\" placeholder=\"Placeholder\" />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label className=\"col-sm-3 control-label\">Activate</label>\r\n\r\n          <div className=\"col-sm-5\">\r\n            <div className=\"input-group\">\r\n              <input type=\"checkbox\" value=\"1\" name=\"active\"  onChange={this.handleChange} required=\"required\" className=\"form-control\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <div className=\"col-sm-5\">\r\n            <button type=\"sumbit\" disabled={ this.state.btnDisabled ?\"disabled\":'' } className=\"btn btn-primary\">Submit</button>\r\n\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default createFarmFormComponent;\r\n"]},"metadata":{},"sourceType":"module"}