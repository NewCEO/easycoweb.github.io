{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from 'react';\nimport DashBoardLayOut from '../../layouts/DashboardLayOut';\nimport httpHelper from '../../helpers/httpHelper';\nimport SingleFarm from '../../components/singleFarm';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport $ from 'jquery';\n\nvar allFarms =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(allFarms, _React$Component);\n\n  function allFarms(props) {\n    var _this;\n\n    _classCallCheck(this, allFarms);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(allFarms).call(this, props));\n    _this.state = {\n      nextPage: false,\n      isLastpage: false\n    };\n    _this.state = {\n      farmsUI: []\n    };\n    _this.loadMoreFarms = _this.loadMoreFarms.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(allFarms, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// this.loadMoreFarms();\n    }\n  }, {\n    key: \"loadMoreFarms\",\n    value: function loadMoreFarms() {\n      var _this2 = this;\n\n      httpHelper.serverReq(\"http://localhost:3009/api/v1/farms/all?paginate=true\".concat(this.state.nextPage ? \"&page=\" + this.state.nextPage : \"\")).then(function (data) {\n        if (data.success) {\n          if (data.success.data.length > 0) {\n            _this2.setState({\n              nextPage: data.success.nextPage\n            });\n\n            _this2.setState({\n              hasMore: true\n            });\n          } else {\n            _this2.setState({\n              hasMore: false\n            });\n          }\n\n          var farmsUI = data.success.data.map(function (farm) {\n            return React.createElement(SingleFarm, {\n              key: farm.id,\n              details: farm\n            });\n          });\n\n          _this2.setState({\n            farmsUI: farmsUI\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(DashBoardLayOut, null, React.createElement(\"div\", {\n        className: \"col-md-12\"\n      }, React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(\"ul\", {\n        className: \"nav nav-tabs bordered col-md-12 text-center\"\n      }, React.createElement(\"li\", {\n        className: \"active col-sm-6\"\n      }, React.createElement(\"a\", {\n        href: \"#open\",\n        \"data-toggle\": \"tab\"\n      }, React.createElement(\"span\", {\n        className: \"visible-xs\"\n      }, React.createElement(\"i\", {\n        className: \"entypo-home\"\n      })), React.createElement(\"span\", {\n        className: \"hidden-xs\"\n      }, React.createElement(\"h3\", null, \"All Farms\")))), React.createElement(\"li\", {\n        className: \"col-sm-6\"\n      }, React.createElement(\"a\", {\n        href: \"#follow\",\n        \"data-toggle\": \"tab\"\n      }, React.createElement(\"span\", {\n        className: \"visible-xs\"\n      }, React.createElement(\"i\", {\n        className: \"entypo-user\"\n      })), React.createElement(\"span\", {\n        className: \"hidden-xs\"\n      }, React.createElement(\"h3\", null, \"Followed\")))))), React.createElement(\"div\", {\n        className: \"tab-content\"\n      }, React.createElement(\"div\", {\n        className: \"tab-pane active\",\n        id: \"open\"\n      }, React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(InfiniteScroll, {\n        dataLength: this.state.farmsUI.length //This is important field to render the next data\n        ,\n        next: this.state.loadMoreFarms,\n        hasMore: this.state.hasMore,\n        loader: React.createElement(\"h4\", null, \"Loading...\"),\n        endMessage: React.createElement(\"p\", {\n          style: {\n            textAlign: 'center'\n          }\n        }, React.createElement(\"b\", null, \"Yay! You have seen it all\"))\n      }, this.state.farmsUI))), React.createElement(\"div\", {\n        className: \"tab-pane\",\n        id: \"follow\"\n      }, React.createElement(\"div\", {\n        className: \"row\"\n      }, React.createElement(\"div\", {\n        className: \"col-sm-6 col-md-4\"\n      }, React.createElement(\"div\", {\n        className: \"thumbnail\"\n      }, React.createElement(\"img\", {\n        src: \"./assets/images/jarren-simmons-35780-unsplash.jpg\",\n        alt: \"...\"\n      }), React.createElement(\"div\", {\n        className: \"caption\"\n      }, React.createElement(\"h2\", null, \"Goat Farm\"), React.createElement(\"p\", null, \"...\"), React.createElement(\"p\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-primary\",\n        role: \"button\"\n      }, \"Button\"), \" \", React.createElement(\"a\", {\n        href: \"#\",\n        className: \"btn btn-default\",\n        role: \"button\"\n      }, \"Button\"))))))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var req;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                req = _ref.req;\n                return _context.abrupt(\"return\", {});\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return allFarms;\n}(React.Component);\n\nexport default allFarms;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\easycow\\pages\\user\\allFarms.js"],"names":["React","DashBoardLayOut","httpHelper","SingleFarm","InfiniteScroll","$","allFarms","props","state","nextPage","isLastpage","farmsUI","loadMoreFarms","bind","serverReq","then","data","success","length","setState","hasMore","map","farm","id","textAlign","req","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport DashBoardLayOut from '../../layouts/DashboardLayOut';\r\nimport httpHelper from '../../helpers/httpHelper';\r\nimport SingleFarm from '../../components/singleFarm';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport $ from 'jquery';\r\n\r\nclass allFarms extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {nextPage:false,isLastpage:false}\r\n    this.state = {farmsUI:[]}\r\n    this.loadMoreFarms = this.loadMoreFarms.bind(this);\r\n  }\r\n\r\n  static async getInitialProps({ req }) {\r\n\r\n    return {};\r\n  }\r\n  componentDidMount() {\r\n    // this.loadMoreFarms();\r\n  }\r\n\r\n  loadMoreFarms(){\r\n    httpHelper.serverReq(`http://localhost:3009/api/v1/farms/all?paginate=true${this.state.nextPage?\"&page=\"+this.state.nextPage:\"\"}`).then( (data)=> {\r\n      if(data.success){\r\n        if (data.success.data.length > 0){\r\n          \r\n          this.setState({nextPage:data.success.nextPage});\r\n          this.setState({hasMore:true})\r\n          \r\n        }else{\r\n          this.setState({hasMore:false})\r\n        }\r\n        \r\n        let farmsUI = data.success.data.map(function (farm) {\r\n         return  <SingleFarm key={farm.id} details={farm} />;\r\n        });\r\n        this.setState({farmsUI:farmsUI});\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <DashBoardLayOut>\r\n        <div className=\"col-md-12\">\r\n          <div className=\"row\">\r\n            <ul className=\"nav nav-tabs bordered col-md-12 text-center\">\r\n              <li className=\"active col-sm-6\">\r\n                <a href=\"#open\" data-toggle=\"tab\">\r\n                  <span className=\"visible-xs\"><i className=\"entypo-home\"></i></span>\r\n                  <span className=\"hidden-xs\"><h3>All Farms</h3></span>\r\n                </a>\r\n              </li>\r\n              <li className=\"col-sm-6\">\r\n                <a href=\"#follow\" data-toggle=\"tab\">\r\n                  <span className=\"visible-xs\"><i className=\"entypo-user\"></i></span>\r\n                  <span className=\"hidden-xs\"><h3>Followed</h3></span>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"tab-content\">\r\n            <div className=\"tab-pane active\" id=\"open\">\r\n              <div className=\"row\">\r\n                <InfiniteScroll\r\n                  dataLength={this.state.farmsUI.length} //This is important field to render the next data\r\n                  next={this.state.loadMoreFarms}\r\n                  hasMore={this.state.hasMore}\r\n                  loader={<h4>Loading...</h4>}\r\n                  endMessage={\r\n                    <p style={{textAlign: 'center'}}>\r\n                      <b>Yay! You have seen it all</b>\r\n                    </p>\r\n                  }\r\n                >\r\n                  {this.state.farmsUI}\r\n                </InfiniteScroll>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"tab-pane\" id=\"follow\">\r\n              <div className=\"row\">\r\n                <div className=\"col-sm-6 col-md-4\">\r\n                  <div className=\"thumbnail\">\r\n                    <img src=\"./assets/images/jarren-simmons-35780-unsplash.jpg\" alt=\"...\"/>\r\n                      <div className=\"caption\">\r\n                        <h2>Goat Farm</h2>\r\n                        <p>...</p>\r\n                        <p><a href=\"#\" className=\"btn btn-primary\" role=\"button\">Button</a> <a href=\"#\"\r\n                                                                                               className=\"btn btn-default\"\r\n                                                                                               role=\"button\">Button</a>\r\n                        </p>\r\n                      </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </DashBoardLayOut>\r\n    )\r\n  }\r\n}\r\n\r\nexport default allFarms;\r\n"]},"metadata":{},"sourceType":"module"}