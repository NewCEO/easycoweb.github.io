{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React from 'react';\nimport httpHelper from '../helpers/httpHelper';\nimport ActionButton from '../components/userStatusButton';\nimport isAdmin from \"../middlewares/isAdmin\";\nimport FarmTR from \"../components/farmsTableRow\";\nimport Link from 'next/link';\n\nvar allFarmTableComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(allFarmTableComponent, _React$Component);\n\n  function allFarmTableComponent(props) {\n    var _this;\n\n    _classCallCheck(this, allFarmTableComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(allFarmTableComponent).call(this, props));\n    _this.handleStatusChange = _this.handleStatusChange.bind(_assertThisInitialized(_this));\n    _this.state = {\n      allFarms: []\n    };\n    return _this;\n  }\n\n  _createClass(allFarmTableComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      isAdmin();\n      this.usersData();\n    }\n  }, {\n    key: \"handleStatusChange\",\n    value: function handleStatusChange(id, status) {\n      var users = this.state.users;\n      users.forEach(function (user, index) {\n        if (user.id === id) {\n          if (status) {\n            users[index].user_status_name = \"active\";\n          } else {\n            users[index].user_status_name = \"de-active\";\n          }\n        }\n      });\n      this.setState({\n        users: users\n      });\n      this.updateRow();\n    }\n  }, {\n    key: \"updateRow\",\n    value: function updateRow() {\n      var _this2 = this;\n\n      var userDom = this.state.users.map(function (user) {\n        return React.createElement(\"tr\", {\n          key: user.id\n        }, React.createElement(\"td\", null, user.name), React.createElement(\"td\", null, user.email), React.createElement(\"td\", null, user.user_type_name), React.createElement(\"td\", null, user.user_status_name), React.createElement(\"td\", null, React.createElement(ActionButton, {\n          user: user,\n          onStatusBtn: _this2.handleStatusChange\n        })));\n      });\n      this.setState({\n        dom: userDom\n      });\n    }\n  }, {\n    key: \"usersData\",\n    value: function usersData() {\n      var _this3 = this;\n\n      httpHelper.httpReq(\"http://localhost:3009/api/v1/users\").then(function (response) {\n        if (response.success) {\n          _this3.setState({\n            users: response.success.data.users\n          });\n\n          _this3.updateRow();\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"table\", {\n        className: \"table table-bordered datatable\",\n        id: \"table-3\"\n      }, React.createElement(\"thead\", null, React.createElement(\"tr\", {\n        className: \"replace-inputs\"\n      }, React.createElement(\"th\", null, \" Name\"), React.createElement(\"th\", null, \"Email\"), React.createElement(\"th\", null, \"Access Level\"), React.createElement(\"th\", null, \"Status\"), React.createElement(\"th\", null, \"Action\"))), React.createElement(\"tbody\", null, this.state.dom), React.createElement(\"tfoot\", null, React.createElement(\"tr\", null, React.createElement(\"th\", null, \" Name\"), React.createElement(\"th\", null, \"Email\"), React.createElement(\"th\", null, \"Access Level\"), React.createElement(\"th\", null, \"Status\"), React.createElement(\"th\", null, \"Action\"))));\n    }\n  }]);\n\n  return allFarmTableComponent;\n}(React.Component);\n\nexport default allFarmTableComponent;","map":{"version":3,"sources":["C:\\xampp\\htdocs\\easycow\\components\\allUsers.js"],"names":["React","httpHelper","ActionButton","isAdmin","FarmTR","Link","allFarmTableComponent","props","handleStatusChange","bind","state","allFarms","usersData","id","status","users","forEach","user","index","user_status_name","setState","updateRow","userDom","map","name","email","user_type_name","dom","httpReq","then","response","success","data","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,MAAP,MAAoB,6BAApB;AACA,OAAOC,IAAP,MAAiB,WAAjB;;IAGMC,qB;;;;;AAEJ,iCAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,+FAAMA,KAAN;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBC,IAAxB,+BAA1B;AACA,UAAKC,KAAL,GAAY;AAACC,MAAAA,QAAQ,EAAC;AAAV,KAAZ;AAHgB;AAOjB;;;;wCAEmB;AAClBR,MAAAA,OAAO;AACP,WAAKS,SAAL;AAED;;;uCAEkBC,E,EAAGC,M,EAAO;AAC3B,UAAIC,KAAK,GAAG,KAAKL,KAAL,CAAWK,KAAvB;AACAA,MAAAA,KAAK,CAACC,OAAN,CAAe,UAACC,IAAD,EAAMC,KAAN,EAAe;AAC5B,YAAID,IAAI,CAACJ,EAAL,KAAYA,EAAhB,EAAmB;AACjB,cAAIC,MAAJ,EAAW;AAETC,YAAAA,KAAK,CAACG,KAAD,CAAL,CAAaC,gBAAb,GAAgC,QAAhC;AACD,WAHD,MAGM;AACJJ,YAAAA,KAAK,CAACG,KAAD,CAAL,CAAaC,gBAAb,GAAgC,WAAhC;AAED;AACF;AACF,OAVD;AAWA,WAAKC,QAAL,CAAc;AAACL,QAAAA,KAAK,EAACA;AAAP,OAAd;AACA,WAAKM,SAAL;AACD;;;gCACU;AAAA;;AACT,UAAIC,OAAO,GAAI,KAAKZ,KAAL,CAAWK,KAAX,CAAiBQ,GAAjB,CAAsB,UAACN,IAAD,EAAS;AAC5C,eAAO;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACJ;AAAd,WACL,gCAAKI,IAAI,CAACO,IAAV,CADK,EAEL,gCAAKP,IAAI,CAACQ,KAAV,CAFK,EAGL,gCAAKR,IAAI,CAACS,cAAV,CAHK,EAIL,gCAAKT,IAAI,CAACE,gBAAV,CAJK,EAKL,gCAAI,oBAAC,YAAD;AAAc,UAAA,IAAI,EAAEF,IAApB;AAA0B,UAAA,WAAW,EAAE,MAAI,CAACT;AAA5C,UAAJ,CALK,CAAP;AAOD,OARc,CAAf;AASA,WAAKY,QAAL,CAAc;AAACO,QAAAA,GAAG,EAACL;AAAL,OAAd;AACD;;;gCACU;AAAA;;AACTrB,MAAAA,UAAU,CAAC2B,OAAX,CAAmB,oCAAnB,EAAyDC,IAAzD,CAA+D,UAACC,QAAD,EAAa;AAC1E,YAAIA,QAAQ,CAACC,OAAb,EAAqB;AACnB,UAAA,MAAI,CAACX,QAAL,CAAc;AAACL,YAAAA,KAAK,EAACe,QAAQ,CAACC,OAAT,CAAiBC,IAAjB,CAAsBjB;AAA7B,WAAd;;AACA,UAAA,MAAI,CAACM,SAAL;AACD;AACF,OALD;AAMD;;;6BAGQ;AACP,aACE;AAAO,QAAA,SAAS,EAAC,gCAAjB;AAAkD,QAAA,EAAE,EAAC;AAArD,SACE,mCACA;AAAI,QAAA,SAAS,EAAC;AAAd,SACE,wCADF,EAEE,wCAFF,EAGE,+CAHF,EAIE,yCAJF,EAKE,yCALF,CADA,CADF,EAUE,mCAEC,KAAKX,KAAL,CAAWiB,GAFZ,CAVF,EAcE,mCACA,gCACE,wCADF,EAEE,wCAFF,EAGE,+CAHF,EAIE,yCAJF,EAKE,yCALF,CADA,CAdF,CADF;AA0BD;;;;EAlFiC3B,KAAK,CAACiC,S;;AAqF1C,eAAe3B,qBAAf","sourcesContent":["import React from 'react';\r\nimport httpHelper from '../helpers/httpHelper';\r\nimport ActionButton from '../components/userStatusButton';\r\nimport isAdmin from \"../middlewares/isAdmin\";\r\nimport FarmTR  from \"../components/farmsTableRow\";\r\nimport Link from 'next/link';\r\n\r\n\r\nclass allFarmTableComponent extends React.Component{\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.handleStatusChange = this.handleStatusChange.bind(this);\r\n    this.state ={allFarms:[]\r\n    };\r\n\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    isAdmin();\r\n    this.usersData();\r\n\r\n  }\r\n\r\n  handleStatusChange(id,status){\r\n    let users = this.state.users;\r\n    users.forEach( (user,index)=> {\r\n      if (user.id === id){\r\n        if (status){\r\n\r\n          users[index].user_status_name = \"active\";\r\n        } else{\r\n          users[index].user_status_name = \"de-active\";\r\n\r\n        }\r\n      }\r\n    })\r\n    this.setState({users:users});\r\n    this.updateRow();\r\n  }\r\n  updateRow(){\r\n    let userDom =  this.state.users.map( (user)=> {\r\n      return <tr key={user.id}>\r\n        <td>{user.name}</td>\r\n        <td>{user.email}</td>\r\n        <td>{user.user_type_name}</td>\r\n        <td>{user.user_status_name}</td>\r\n        <td><ActionButton user={user} onStatusBtn={this.handleStatusChange} /></td>\r\n      </tr>\r\n    });\r\n    this.setState({dom:userDom});\r\n  }\r\n  usersData(){\r\n    httpHelper.httpReq(\"http://localhost:3009/api/v1/users\").then( (response) =>{\r\n      if (response.success){\r\n        this.setState({users:response.success.data.users});\r\n        this.updateRow();\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    return(\r\n      <table className=\"table table-bordered datatable\" id=\"table-3\">\r\n        <thead>\r\n        <tr className=\"replace-inputs\">\r\n          <th> Name</th>\r\n          <th>Email</th>\r\n          <th>Access Level</th>\r\n          <th>Status</th>\r\n          <th>Action</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n\r\n        {this.state.dom}\r\n        </tbody>\r\n        <tfoot>\r\n        <tr>\r\n          <th> Name</th>\r\n          <th>Email</th>\r\n          <th>Access Level</th>\r\n          <th>Status</th>\r\n          <th>Action</th>\r\n        </tr>\r\n        </tfoot>\r\n      </table>\r\n    )\r\n  }\r\n}\r\n\r\nexport default allFarmTableComponent;\r\n"]},"metadata":{},"sourceType":"module"}